{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "Serilog": {
    "Using": [ "Serilog.Sinks.File" ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information"
      }
    },
    "Enrich": [ "FromLogContext" ],
    "WriteTo": [
      {
        "Name": "File",
        "Args": {
          "path": "C:\\apps\\congno\\api\\logs\\api.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 14,
          "fileSizeLimitBytes": 10485760,
          "rollOnFileSizeLimit": true,
          "shared": true
        }
      }
    ]
  },
  "ConnectionStrings": {
    "Default": "Host=localhost;Port=5432;Database=congno_golden;Username=congno_app;Password=CHANGE_ME",
    "ReadReplica": "",
    "Redis": ""
  },
  "ReadModelCache": {
    "Enabled": true,
    "NamespaceVersionHours": 24
  },
  "Jwt": {
    "Issuer": "congno.local",
    "Audience": "congno.local",
    "ExpiryMinutes": 60,
    "RefreshTokenDays": 14,
    "RefreshTokenAbsoluteDays": 90,
    "RefreshCookieName": "congno_refresh",
    "RefreshCookieSecure": true,
    "RefreshCookieSameSite": "Strict",
    "RefreshCookiePath": "/auth"
  },
  "AuthSecurity": {
    "EnableLoginLockout": true,
    "MaxFailedLoginAttempts": 5,
    "LockoutMinutes": 15
  },
  "Cors": {
    "AllowedOrigins": [
      "http://localhost:5173",
      "http://127.0.0.1:5173"
    ]
  },
  "Seed": {
    "AdminUsername": "admin",
    "AdminPassword": "CHANGE_ME",
    "AdminFullName": "System Admin",
    "AdminEmail": "admin@example.com"
  },
  "Migrations": {
    "Enabled": false,
    "ScriptsPath": "scripts/db/migrations"
  },
  "Reports": {
    "TemplatePath": "Templates/Mau_DoiSoat_CongNo_Golden.xlsx",
    "TemplatePaths": {
      "Full": "Templates/Mau_DoiSoat_CongNo_Golden.xlsx",
      "Overview": "Templates/Mau_DoiSoat_CongNo_Golden_TongQuan.xlsx",
      "Summary": "Templates/Mau_DoiSoat_CongNo_Golden_TongHop.xlsx",
      "Statement": "Templates/Mau_DoiSoat_CongNo_Golden_ChiTiet.xlsx",
      "Aging": "Templates/Mau_DoiSoat_CongNo_Golden_Aging.xlsx"
    }
  },
  "Zalo": {
    "Enabled": false,
    "OaId": "2804410978830725257",
    "ApiBaseUrl": "https://openapi.zalo.me/v2.0/oa/message",
    "AccessToken": "",
    "WebhookToken": "",
    "LinkCodeMinutes": 15,
    "RetryMaxAttempts": 3,
    "RetryBaseDelayMs": 250,
    "RetryMaxDelayMs": 2000,
    "CircuitBreakerFailureThreshold": 5,
    "CircuitBreakerOpenSeconds": 30
  },
  "Reminders": {
    "AutoRunEnabled": true,
    "PollMinutes": 360
  },
  "ReportSchedules": {
    "AutoRunEnabled": true,
    "PollSeconds": 60,
    "BatchSize": 20
  },
  "ReportDeliveryEmail": {
    "Enabled": false,
    "SmtpHost": "",
    "SmtpPort": 587,
    "UseSsl": true,
    "UseDefaultCredentials": false,
    "Username": "",
    "Password": "",
    "FromEmail": "",
    "FromName": "CongNo Golden",
    "SubjectPrefix": "[CongNo]",
    "TimeoutSeconds": 30
  },
  "InvoiceReconcile": {
    "AutoRunEnabled": true,
    "PollMinutes": 60
  },
  "CustomerBalanceReconcile": {
    "AutoRunEnabled": true,
    "PollMinutes": 720,
    "MaxItems": 10,
    "Tolerance": 0.01
  },
  "DataRetention": {
    "AutoRunEnabled": true,
    "PollMinutes": 1440,
    "AuditLogRetentionDays": 365,
    "ImportStagingRetentionDays": 90,
    "RefreshTokenRetentionDays": 30
  },
  "RiskModelTraining": {
    "AutoRunEnabled": true,
    "PollMinutes": 1440,
    "ModelKey": "risk_overdue_30d",
    "LookbackMonths": 12,
    "HorizonDays": 30,
    "MinSamples": 200,
    "AutoActivate": true,
    "MinAucGain": 0.005,
    "LearningRate": 0.08,
    "MaxIterations": 900,
    "L2Penalty": 0.02
  },
  "RiskDelta": {
    "AutoRunEnabled": true,
    "PollMinutes": 360,
    "AbsoluteThreshold": 0.15,
    "RelativeThresholdRatio": 0.25
  },
  "ErpIntegration": {
    "Enabled": false,
    "Provider": "MISA",
    "BaseUrl": "",
    "ApiKey": "",
    "CompanyCode": "",
    "TimeoutSeconds": 15
  },
  "Observability": {
    "ServiceName": "congno-api",
    "EnableConsoleExporter": false,
    "OtlpEndpoint": "",
    "EnablePrometheusExporter": true,
    "PrometheusScrapeEndpointPath": "/metrics"
  },
  "AllowedHosts": "*"
}
