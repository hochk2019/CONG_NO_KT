# Legacy docker template.
# Prefer using root `.env.example` as unified onboarding template,
# then copy to `.env` before running docker compose.

POSTGRES_DB=congno_golden
POSTGRES_USER=congno_app
POSTGRES_PASSWORD=CHANGE_ME_DB_PASSWORD
POSTGRES_PORT=5432
REDIS_PORT=6379
REDIS_CONNECTION=redis:6379
READ_REPLICA_CONNECTION=

API_PORT=8080
WEB_PORT=8081
VITE_API_BASE_URL=/api

JWT_SECRET=CHANGE_ME_SUPER_LONG_RANDOM_SECRET
JWT_ISSUER=CongNoGolden
JWT_AUDIENCE=CongNoGolden.Client
JWT_REFRESH_COOKIE_SECURE=false
JWT_REFRESH_COOKIE_SAMESITE=Lax
JWT_REFRESH_COOKIE_PATH=/
SERILOG_FILE_PATH=/var/lib/congno/logs/api.log

SEED_ENABLED=true
SEED_ADMIN_USERNAME=admin
SEED_ADMIN_PASSWORD=CHANGE_ME_ADMIN_PASSWORD

ZALO_ENABLED=false
ZALO_OA_ID=2804410978830725257
ZALO_API_BASE_URL=https://openapi.zalo.me/v2.0/oa/message
ZALO_ACCESS_TOKEN=
ZALO_WEBHOOK_TOKEN=

# Backup/restore path mapping (host -> container)
# On Windows staging, set BACKUP_HOST_PATH=C:/apps/congno/backup/dumps
BACKUP_HOST_PATH=./data/backup/dumps
BACKUP_CONTAINER_PATH=/var/lib/congno/backups/dumps
BACKUP_PG_BIN_PATH=/usr/bin

OBSERVABILITY_SERVICE_NAME=congno-api
OBSERVABILITY_PROMETHEUS_ENABLED=true
OBSERVABILITY_PROMETHEUS_PATH=/metrics

PROMETHEUS_PORT=9090
ALERTMANAGER_PORT=9093
LOKI_PORT=3100
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_ROOT_URL=http://localhost:3001
